---
phase: 01-foundation-data-layer
plan: 03
type: execute
wave: 3
depends_on: ["01-01", "01-02"]
files_modified:
  - src/app/globals.css
  - src/app/layout.tsx
  - src/app/page.tsx
autonomous: false
user_setup:
  - service: vercel
    why: "Deployment platform for the Next.js app"
    env_vars:
      - name: DATABASE_URL
        source: "Auto-provisioned via Neon marketplace integration on Vercel, or manually add from Neon Console"
    dashboard_config:
      - task: "Connect GitHub repo to Vercel and add Neon integration"
        location: "https://vercel.com -> Add New Project -> Import repo -> Add Neon integration from Marketplace"

must_haves:
  truths:
    - "Landing page displays all 11 weekends fetched from Neon Postgres"
    - "The page uses Apple-inspired design: clean Inter typography, generous whitespace, neutral zinc palette"
    - "Design tokens (colors, radii, fonts) are defined in CSS variables in globals.css"
    - "The Vercel URL loads the landing page without errors"
    - "Data persists and is the same from any device visiting the Vercel URL"
  artifacts:
    - path: "src/app/globals.css"
      provides: "Apple-minimalist design tokens via CSS variables and @theme inline"
      contains: "@theme inline"
    - path: "src/app/layout.tsx"
      provides: "Root layout with Inter font, metadata, and base body styles"
      contains: "Inter"
    - path: "src/app/page.tsx"
      provides: "Landing page Server Component rendering weekends from database"
      contains: "force-dynamic"
  key_links:
    - from: "src/app/page.tsx"
      to: "src/lib/db.ts"
      via: "imports db for database query"
      pattern: "import.*db.*from.*lib/db"
    - from: "src/app/page.tsx"
      to: "src/db/schema.ts"
      via: "imports weekends table for query"
      pattern: "import.*weekends.*from.*db/schema"
    - from: "src/app/layout.tsx"
      to: "src/app/globals.css"
      via: "imports global styles with design tokens"
      pattern: "import.*globals\\.css"
---

<objective>
Customize the design system for Apple-inspired minimalism, build the landing page as a Server Component that displays all weekends from the database, and deploy the app to Vercel.

Purpose: Delivers the visible proof that everything works — a live URL showing real data with polished design. This is the Phase 1 success criteria made real.
Output: A deployed Vercel app at a public URL showing all 11 weekends with Apple-minimalist styling.
</objective>

<execution_context>
@/Users/vladimirtsoy/.claude/get-shit-done/workflows/execute-plan.md
@/Users/vladimirtsoy/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-data-layer/01-RESEARCH.md
@.planning/phases/01-foundation-data-layer/01-01-SUMMARY.md
@.planning/phases/01-foundation-data-layer/01-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Customize design system and build landing page</name>
  <files>
    src/app/globals.css
    src/app/layout.tsx
    src/app/page.tsx
  </files>
  <action>
    **1. Design Tokens (src/app/globals.css):**

    The shadcn scaffolding already created globals.css with CSS variables and `@theme inline`. Customize the values for Apple-minimalist aesthetics. If the scaffolded file already uses zinc base (which it should since we selected zinc), verify and tweak these specific values:

    - `--background`: Pure white (oklch(1 0 0))
    - `--foreground`: Near-black (oklch(0.145 0 0))
    - `--primary`: Deep black for CTAs (oklch(0.205 0 0))
    - `--muted-foreground`: Medium gray for secondary text (oklch(0.556 0 0))
    - `--border`: Subtle borders (oklch(0.922 0 0))
    - `--radius`: 0.625rem (10px — Apple-like rounded corners)
    - Font mapping: `--font-sans: var(--font-inter)` in the `@theme inline` block

    The shadcn Nova style with zinc base should be very close to these values already. Only adjust if they differ from the Apple aesthetic. Do NOT rewrite the entire file — make targeted edits.

    **2. Root Layout (src/app/layout.tsx):**

    Update the root layout to:
    - Load Inter font via `next/font/google` with `{ subsets: ['latin'], display: 'swap', variable: '--font-inter' }`
    - Set `<html lang="en" className={inter.variable}>`
    - Set `<body className="min-h-screen bg-background font-sans antialiased">`
    - Add metadata: title "AI Resolution Tracker", description "Track your 10-Weekend AI Resolution progress"

    Follow Pattern 6 from the research document. The shadcn scaffolding may have already configured a font — update it to Inter if it's different, or verify it's already Inter.

    **3. Landing Page (src/app/page.tsx):**

    Replace the verification page with a proper landing page Server Component. **Invoke the `frontend-design` skill** (via the Skill tool with `skill="frontend-design"`) to design and implement the landing page. Do NOT hardcode a layout -- the skill generates distinctive, production-grade UI.

    Provide the skill with this design brief:
    - **Component:** Landing page (Server Component) for an AI Resolution Tracker
    - **Data:** The page fetches all weekends from the database using `db.select().from(weekends).orderBy(weekends.number)` and renders them as a list
    - **Data shape:** Each weekend has: id, number, name, deliverable, isBonus, category
    - **Aesthetic:** Apple-inspired minimalism -- clean Inter typography, generous whitespace, neutral zinc palette, subtle interactions
    - **Requirements:**
      - Hero section with title "AI Resolution" and a brief tagline
      - Weekend list showing number (zero-padded, e.g. "01"), name, and deliverable per item
      - Bonus weekend labeled "Bonus" instead of a number
      - Footer noting "Built during Weekend 1"
      - Mobile-first responsive layout
    - **Imports required at top of file:**
      ```typescript
      import { db } from '@/lib/db';
      import { weekends } from '@/db/schema';
      export const dynamic = 'force-dynamic';
      ```

    Let the `frontend-design` skill make all visual/layout decisions (spacing, card design, hover states, typography scale, etc.). The skill produces higher-quality, more distinctive UI than hardcoded JSX.

    IMPORTANT: This must remain a Server Component — no "use client", no useState, no useEffect. The database query runs on the server.
    IMPORTANT: Add `export const dynamic = 'force-dynamic'` to prevent static rendering (see Pitfall 4 in research).
  </action>
  <verify>
    Run `npm run dev` — localhost:3000 shows all 11 weekends in a clean, Apple-minimalist layout.
    Verify Inter font loads (check browser dev tools Network tab for Inter font files).
    Verify no "use client" directives in page.tsx or layout.tsx.
    Verify page title in browser tab shows "AI Resolution Tracker".
    Run `npm run build` — build completes without errors.
  </verify>
  <done>
    Landing page displays all 11 weekends with Apple-inspired design. Inter font loaded. Server Component renders data from Neon Postgres. Build succeeds.
  </done>
</task>

<task type="auto">
  <name>Task 2: Deploy to Vercel</name>
  <files></files>
  <action>
    Deploy the app to Vercel. First, ensure all changes are committed to git:

    ```bash
    git add -A
    git commit -m "feat: Phase 1 complete — foundation, schema, seed data, and landing page"
    ```

    Then deploy using the Vercel CLI:

    ```bash
    npx vercel --yes
    ```

    If the Vercel CLI is not installed or not authenticated:
    1. Try `npx vercel login` first
    2. If login requires browser interaction, note this as a checkpoint

    After the preview deployment succeeds, deploy to production:

    ```bash
    npx vercel --prod --yes
    ```

    CRITICAL: The deployment needs DATABASE_URL as an environment variable on Vercel. There are two approaches:
    1. **Preferred:** Add the Neon marketplace integration on Vercel (auto-provisions DATABASE_URL)
    2. **Fallback:** Manually set DATABASE_URL in Vercel project settings: `vercel env add DATABASE_URL production`

    If the CLI deployment fails due to missing DATABASE_URL, the user will need to:
    1. Go to vercel.com -> Project -> Settings -> Environment Variables
    2. Add DATABASE_URL with the Neon connection string
    3. Redeploy: `npx vercel --prod --yes`

    After deployment, verify the production URL loads the landing page with all 11 weekends.
  </action>
  <verify>
    The Vercel production URL loads without errors.
    All 11 weekends are displayed on the production page.
    The page looks the same as localhost (Apple-minimalist design, Inter font, all weekends listed).
  </verify>
  <done>
    App deployed to Vercel production URL. Landing page shows all 11 weekends from Neon Postgres. Data persists and is accessible from any device.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete Phase 1: A deployed Next.js app on Vercel with Apple-inspired design, displaying all 11 weekends from the AI Resolution program, backed by Neon Postgres.
  </what-built>
  <how-to-verify>
    1. Visit the Vercel production URL (printed in the deploy output)
    2. Verify the page loads without errors
    3. Verify all 11 weekends are displayed (Weekends 1-10 + Bonus)
    4. Verify the design looks clean and Apple-inspired:
       - Inter font (clean sans-serif)
       - Generous whitespace
       - Subtle card borders
       - Neutral color palette (whites, grays, blacks)
    5. Verify each weekend shows its number, name, and deliverable
    6. Try visiting from a different device/browser — same data should appear
  </how-to-verify>
  <resume-signal>Type "approved" if the deployed app looks correct, or describe any issues.</resume-signal>
</task>

</tasks>

<verification>
1. `npm run build` succeeds without errors
2. localhost:3000 shows all 11 weekends with Apple-minimalist design
3. Vercel production URL loads the same page
4. Inter font is loaded and applied
5. Page is a Server Component (no "use client")
6. `export const dynamic = 'force-dynamic'` is set on page.tsx
7. Design tokens in globals.css use zinc neutral palette
</verification>

<success_criteria>
- Apple-inspired design system with Inter font, zinc palette, generous whitespace
- Landing page Server Component displays all 11 weekends from database
- App deployed to Vercel with a public production URL
- Data persists in Neon Postgres and is accessible from any device
- All Phase 1 success criteria met: deployed URL works, database has all weekends, design is visible
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-data-layer/01-03-SUMMARY.md`
</output>
